(function(a){$.fn.accordion=function(b){var c=800;var d=800;var e=60;var f=false;var g=.7;var h=false;var i=1;var j=true;var k=1;var l="#ffffff";var m=300;var n=false;var o=3e3;var p="over";var q=false;var r=a;var s=a;if(b.width!=a)c=b.width;if(b.height!=a)d=b.height;if(b.barSize!=a)e=b.barSize;if(b.cover!=a)f=b.cover;if(b.coverAlpha!=a)g=b.coverAlpha;if(b.shadow!=a)h=b.shadow;if(b.shadowAlpha!=a)i=b.shadowAlpha;if(b.border!=a)j=b.border;if(b.borderSize!=a)k=b.borderSize;if(b.borderColor!=a)l=b.borderColor;if(b.transitionTime!=a){m=b.transitionTime;m*=1e3}if(b.autoplay!=a)n=b.autoplay;if(b.autoplayTime!=a){o=b.autoplayTime;o*=1e3}if(b.changeType!=a)p=b.changeType;if(b.previousBtn!=a&&b.nextBtn!=a){q=true;r=b.previousBtn;s=b.nextBtn}var t=$(this);var u=$(".block",this);var v=u.size();var w=c-e*(v-1);var x=0;var y;$(".holder",t).css("width",c*2+"px");u.css("width",c*2+"px");u.css("height",d+"px");t.css("width",c);t.css("height",d+k*2);$(".holder .content",t).css("opacity",0);if(j){u.css("border","solid");u.css("border-width",k+"px");u.css("border-color",l);t.css("border-right","solid");t.css("border-right-width",k+"px");t.css("border-right-color",l)}var z=0;u.each(function(){var a=$(this);a.css("left",z*(c/v)+"px");a.attr("rel",z);z++;a.append('<div class="loading"><img src="wp-content/plugins/banner/images/ui/ajax-loader.gif"/></div>')});var A=function(b){var i=$(u[b]);if(!i.hasClass("locked")){x=b;i.addClass("locked");i.stop().animate({left:e*b},m);$(".content_holder",i).stop().animate({left:-i.width()/2+w/2},m);if(h)$(".shadow",i).stop().animate({width:w},m);var j=true;for(var k=0;k<v;k++){var l=$(u[k]);if(k==b){j=false;if(f)$(".content_holder .cover",l).stop().fadeTo(m,0)}else{if(j){l.stop().animate({left:e*k},m)}else{l.stop().animate({left:c-e*(v-k)},m)}$(".content_holder",l).stop().animate({left:-$(".content_holder",l).width()/2+e/2},m);if(f)$(".content_holder .cover",l).stop().fadeTo(m,g);if(h)$(".shadow",l).stop().animate({width:e},m)}}$(".content",i).each(function(){var b=$(this);b.clearQueue();var c=b.attr("transitionType");var e="top";var f="left";var g=0;var h=30;var i=500;var j=0;var k=0;if(b.attr("alignV")!=a)e=b.attr("alignV");if(b.attr("alignH")!=a)f=b.attr("alignH");if(b.attr("delay")!=a)g=parseFloat(b.attr("delay"),10)*1e3;if(b.attr("distance")!=a)h=parseInt(b.attr("distance"),10);if(b.attr("transitionTime")!=a)i=parseFloat(b.attr("transitionTime"),10)*1e3;if(b.attr("x")!=a)j=parseInt(b.attr("x"),10);if(b.attr("y")!=a)k=parseInt(b.attr("y"),10);if(e=="bottom"){k=d-b.height()-k}if(f=="right"){j=w-b.width()-j}b.css("left",j+"px");b.css("top",k+"px");if(c=="left")b.css("left",j-h+"px");else if(c=="right")b.css("left",j+h+"px");else if(c=="top")b.css("top",k-h+"px");else if(c=="bottom")b.css("top",k+h+"px");b.stop().delay(m+g).animate({left:j,top:k,opacity:1},i)});if(p=="click"){clearTimeout(y);y=setTimeout(function(){C(x);if(x<v-1)x++;else x=0;A(x)},o)}}};var B=function(b){var c=$(u[b]);$(".content",c).each(function(){var b=$(this);b.clearQueue();var c=b.attr("transitionType");var e="top";var f="left";var g=30;var h=0;var i=0;var j=500;if(b.attr("alignV")!=a)e=b.attr("alignV");if(b.attr("alignH")!=a)f=b.attr("alignH");if(b.attr("distance")!=a)g=parseInt(b.attr("distance"),10);if(b.attr("transitionTime")!=a)j=parseFloat(b.attr("transitionTime"),10)*1e3;if(b.attr("x")!=a)h=parseInt(b.attr("x"),10);if(b.attr("y")!=a)i=parseInt(b.attr("y"),10);if(e=="bottom")i=d-b.height()-i;if(f=="right")h=w-b.width()-h;if(c=="left")h-=g;else if(c=="right")h+=g;else if(c=="top")i-=g;else if(c=="bottom")i+=g;b.stop().animate({left:h,top:i,opacity:0},m)})};var C=function(a){var b=$(u[a]);b.removeClass("locked");B(a);for(var d=0;d<v;d++){var e=$(u[d]);e.stop().animate({left:d*(c/v)},300);$(".content_holder",e).stop().animate({left:-$(".content_holder",e).width()/2+c/v/2},300);if(f)$(".content_holder .cover",e).stop().fadeTo(m,0);if(h)$(".shadow",e).stop().animate({width:c/v},m)}};var D=function(a){var b=$(u[a]);var e=new Image;e.onload=function(){$(e).css("opacity",0);var g=w;var j=d;var k=1;if(e.width>g)k=e.width/g;if(k>e.height/j)k=e.height/j;e.width/=k;e.height/=k;var l=e.width;var m=e.height;b.css("width",l+"px");$(".content_holder",b).css("width",l+"px");$(".content_holder",b).css("left",-l/2+c/v/2+"px");$(".content_holder .image",b).append(e);$(".content",b).css("padding-left",(l-w)/2+"px");$(".content",b).css("padding-right",(l-w)/2+"px");if(f){var n=$(".content_holder .cover",b);$(".content_holder",b).append('<div class="cover"></div>');n.css("width",l+"px");n.css("height",m+"px");n.css("opacity",0)}if(h&&a<v){var q=$(".shadow",b);b.append('<div class="shadow"></div>');q.css("width",c/v+"px");q.css("height",m+"px");q.css("opacity",i)}if(p=="click"){b.click(function(){if(x!=parseInt($(this).attr("rel"),10))C(x);A(parseInt($(this).attr("rel"),10))});b.css("cursor","pointer")}else b.hover(function(){if(x!=parseInt($(this).attr("rel")))C(x);A(parseInt($(this).attr("rel"),10))},function(){C(parseInt($(this).attr("rel"),10))});$(e).fadeTo(500,1);a++;if(a<v){D(a)}else{y=setTimeout(function(){A(x)},o)}};e.src=$(".content_holder",b).attr("src")};D(0);if(q){r.click(function(){C(x);if(x>0)x--;else x=v-1;A(x)});s.click(function(){C(x);if(x<v-1)x++;else x=0;A(x)})}}})()
